<div class="bottom-nav">
        <div class="energy-info">
            <span>⚡ Энергия</span>
            <span><span id="energy-current">1000</span> / 1000</span>
        </div>
        <div class="progress-container">
            <div id="energy-bar"></div>
        </div>
    </div>

    <script>
        // Загрузка данных или значения по умолчанию
        let score = parseInt(localStorage.getItem('score')) || 0;
        let energy = parseInt(localStorage.getItem('energy')) || 1000;
        const maxEnergy = 1000;
        
        const scoreEl = document.getElementById('score');
        const energyText = document.getElementById('energy-current');
        const energyBar = document.getElementById('energy-bar');
        const coin = document.getElementById('coin');

        // Инициализация при запуске
        function init() {
            scoreEl.innerText = score.toLocaleString();
            updateEnergyUI();
        }

        function updateEnergyUI() {
            energyText.innerText = energy;
            energyBar.style.width = (energy / maxEnergy * 100) + '%';
        }

        // Клик
        coin.addEventListener('pointerdown', (e) => {
            if (energy >= 1) {
                score++;
                energy--;
                
                scoreEl.innerText = score.toLocaleString();
                updateEnergyUI();
                createParticle(e.clientX, e.clientY);
                
                // Сохранение
                localStorage.setItem('score', score);
                localStorage.setItem('energy', energy);

                if (navigator.vibrate) navigator.vibrate(35);
            }
        });

        // Эффект вылетающей цифры
        function createParticle(x, y) {
            const p = document.createElement('div');
            p.innerText = '+1';
            p.className = 'plus-one';
            p.style.left = x + 'px';
            p.style.top = y + 'px';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 800);
        }

        // Восстановление энергии
        setInterval(() => {
            if (energy < maxEnergy) {
                energy = Math.min(energy + 2, maxEnergy);
                updateEnergyUI();
                localStorage.setItem('energy', energy);
            }
        }, 1500);

        init();
    </script>
</body>
</html>